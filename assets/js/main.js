!function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var r=document.body,i={width:e.innerWidth,height:e.innerHeight},n=Modernizr.cssanimations,o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")];function a(e){this.options=t({},this.options),t(this.options,e),this._init()}a.prototype.options={nmbLayers:1,bgcolor:"#fff",effect:"anim--effect-1",onStart:function(e){return!1},onEnd:function(e){return!1}},a.prototype._init=function(){this._addLayers(),this.layers=[].slice.call(this.revealerWrapper.children),this._initEvents()},a.prototype._initEvents=function(){var t,r,n,o;this.debounceResize=(t=function(t){i={width:e.innerWidth,height:e.innerHeight}},r=10,function(){var e=this,i=arguments,a=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||t.apply(e,i)}),r),a&&t.apply(e,i)}),e.addEventListener("resize",this.debounceResize)},a.prototype._addLayers=function(){this.revealerWrapper=document.createElement("div"),this.revealerWrapper.className="revealer",classie.add(r,this.options.effect);for(var e="",t=0;t<this.options.nmbLayers;++t){e+='<div style="background:'+("string"==typeof this.options.bgcolor?this.options.bgcolor:this.options.bgcolor instanceof Array&&this.options.bgcolor[t]?this.options.bgcolor[t]:"#fff")+'" class="revealer__layer"></div>'}this.revealerWrapper.innerHTML=e,r.appendChild(this.revealerWrapper)},a.prototype.reveal=function(e,t,r){if(this.isAnimating)return!1;var a,s,l;if(this.isAnimating=!0,this.direction=e,this.options.onStart(this.direction),"cornertopleft"===e||"cornertopright"===e||"cornerbottomleft"===e||"cornerbottomright"===e){var p=Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2));a=s=p+"px","cornertopleft"===e?l="translate3d(-50%,-50%,0) rotate3d(0,0,1,135deg) translate3d(0,"+p+"px,0)":"cornertopright"===e?l="translate3d(-50%,-50%,0) rotate3d(0,0,1,-135deg) translate3d(0,"+p+"px,0)":"cornerbottomleft"===e?l="translate3d(-50%,-50%,0) rotate3d(0,0,1,45deg) translate3d(0,"+p+"px,0)":"cornerbottomright"===e&&(l="translate3d(-50%,-50%,0) rotate3d(0,0,1,-45deg) translate3d(0,"+p+"px,0)")}else"left"===e||"right"===e?(a="100vh",s="100vw",l="translate3d(-50%,-50%,0) rotate3d(0,0,1,"+("left"===e?90:-90)+"deg) translate3d(0,100%,0)"):"top"!==e&&"bottom"!==e||(a="100vw",s="100vh",l="top"===e?"rotate3d(0,0,1,180deg)":"none");this.revealerWrapper.style.width=a,this.revealerWrapper.style.height=s,this.revealerWrapper.style.WebkitTransform=this.revealerWrapper.style.transform=l,this.revealerWrapper.style.opacity=1,classie.add(this.revealerWrapper,"revealer--"+e||"revealer--right"),classie.add(this.revealerWrapper,"revealer--animate");var h=this,c=0;this.layers.forEach((function(t){!function(e,t){var r=function(e){if(n){if(e.target!=this)return;this.removeEventListener(o,r)}t&&"function"==typeof t&&t.call()};n?e.addEventListener(o,r):r()}(t,(function(){++c===h.options.nmbLayers&&(classie.remove(h.revealerWrapper,"revealer--"+e||"revealer--right"),classie.remove(h.revealerWrapper,"revealer--animate"),h.revealerWrapper.style.opacity=0,h.isAnimating=!1,h.options.onEnd(h.direction))}))})),"function"==typeof r&&(this.callbacktimeout&&clearTimeout(this.callbacktimeout),this.callbacktimeout=setTimeout(r,t))},a.prototype.destroy=function(){classie.remove(r,this.options.effect),e.removeEventListener("resize",this.debounceResize),r.removeChild(this.revealerWrapper)},e.Revealer=a}(window);